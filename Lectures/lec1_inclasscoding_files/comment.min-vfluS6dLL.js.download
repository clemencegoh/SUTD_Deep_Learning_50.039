define(["require","exports","tslib","react","classnames","spectrum_comments/comment_avatar","spectrum_comments/comment_editor/comment_editor","spectrum_comments/comment_editor/components/post_bar","spectrum_comments/comment_editor/comment_renderer","prop-types","spectrum/tertiary_link"],function(e,t,n,o,a,c,r,i,s,m,l){"use strict";function d(e){var t=e.active,n=e.comment,a=e.localization,c=n.author,r=n.timestamp;return t?o.createElement("div",{className:"sc-comment-info"},o.createElement("span",{className:"sc-comment-author"},c.name.display),o.createElement("span",{className:"sc-comment-timestamp"},a.ago(r))):null}function p(e){var t=e.comment,n=e.actions.onDeleted,a=e.isMobile,c=e.active,r=e.onStartEdit,i=e.localization,s=t.userPermissions,m=s.canEdit,d=s.canDelete;return!m&&!d||a||!c?null:o.createElement("div",{className:"sc-comment-actions"},m&&o.createElement(l.TertiaryLink,{onClick:function(){return r(t)}},i.commentEditLabel),o.createElement("span",{className:"sc-comment-actions-separator"},m&&d&&" â€¢ "),d&&o.createElement(l.TertiaryLink,{className:"sc-comment-actions-delete",onClick:n},i.commentDeleteLabel))}Object.defineProperty(t,"__esModule",{value:!0}),t.InlineCommentEditorPostBar=function(e,t){var a=t.localization;return o.createElement(i.PostBar,n.__assign({},e,{postLabel:a.editPostLabel,cancelLabel:a.editCancelLabel}))},t.InlineCommentEditorPostBar.contextTypes={localization:m.object},t.CommentInfo=d,t.CommentActionMenu=p;var u=(function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSave=function(e){t.props.actions.onEdited(e),t.props.onEndEdit()},t.onMentionsQueryUpdated=t.props.actions.onMentionsQueryUpdated,t}return n.__extends(i,e),i.prototype.classNameUtil=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.props,o=n.active,c=void 0!==o&&o,r=n.className,i=n.comment.deleted;return a.apply(void 0,[r].concat(e,[{"sc-comment-active":c,"sc-comment-deleted":i}]))},Object.defineProperty(i.prototype,"localization",{get:function(){return this.context.localization},enumerable:!0,configurable:!0}),i.prototype.renderDeletedMode=function(){return o.createElement("li",{className:this.classNameUtil()},o.createElement("div",{className:"sc-comment-avatar"},o.createElement(c.DeletedCommentAvatar,null)),o.createElement("div",{className:"sc-comment-content-container"},o.createElement("div",{className:"sc-comment-content"},this.props.children,o.createElement("span",{className:"sc-comment-text"},this.localization.commentDeletedMsg))))},i.prototype.renderDisplayMode=function(){var e=this,t=this.localization,a=this.props,c=(a.active,a.comment),r=a.commentAvatarComponent,i=c.content,m=c.author;c.timestamp;return o.createElement("li",{className:this.classNameUtil("sc-comment-renderer")},o.createElement(s.CommentRenderer,{content:i,author:m,commentAvatarComponent:r,annotation:this.props.children},function(a){return o.createElement("div",null,o.createElement(d,n.__assign({},e.props,{localization:t})),a,o.createElement(p,n.__assign({},e.props,{localization:t})))}))},i.prototype.renderEditMode=function(){var e=this.props,n=e.comment,a=e.mentionsMatches,c=e.onEndEdit;return o.createElement("li",{className:this.classNameUtil("sc-comment-editor","sc-comment-inline-editor")},o.createElement(r.CommentEditor,{author:n.author,content:n.content,postSignalComponent:t.InlineCommentEditorPostBar,onCancel:c,onPost:this.onSave,mentionsMatches:a,onMentionsQueryUpdated:this.onMentionsQueryUpdated,renderBare:!0}))},i.prototype.render=function(){return this.props.comment.deleted?this.renderDeletedMode():this.props.isEditing?this.renderEditMode():this.renderDisplayMode()},i.contextTypes={localization:m.object},i.defaultProps={isEditing:!1},i})(o.PureComponent);t.Comment=u});
//# sourceMappingURL=comment.min.js-vflA_EdSI.map