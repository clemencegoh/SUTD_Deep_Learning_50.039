define(["require","exports","tslib","react"],function(t,e,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o=r.__importStar(o);var n=(function(t){function e(){var e=t.apply(this,arguments)||this;return e.state={xScale:1,yScale:1},e}return r.__extends(e,t),e.prototype.getDerivedStateFromProps=function(t){var e=t.rawText,r=t.width,o=t.height,n=t.fontSize;return this.scaleText(e,r,o,n,this.textElement)},e.prototype.componentDidMount=function(){this.setState(this.getDerivedStateFromProps(this.props),this.props.onRender)},e.prototype.componentWillReceiveProps=function(t){this.setState(this.getDerivedStateFromProps(t))},e.prototype.scaleText=function(t,e,r,o,n){var i=!0;if(t.length<=1)i=!1;else if(2===t.length){var a=t.charCodeAt(0),s=t.charCodeAt(1);a>=55296&&a<=56319&&s>=56320&&s<=57343&&(i=!1)}return i&&n?{xScale:e/n.clientWidth,yScale:o?1:r/n.clientHeight}:{xScale:1,yScale:1}},e.prototype.render=function(){var t=this,e=this.props,r=e.dir,n=e.x,i=e.y,a=e.rotation,s=e.transformedText,p=e.className,l={left:n,bottom:i,transform:"rotate("+-a+"rad) scale("+this.state.xScale+", "+this.state.yScale+")"};this.props.font&&(l.fontFamily=this.props.font.fontFamily,this.props.font.isBold&&(l.fontWeight="bold"),this.props.font.isItalic&&(l.fontStyle="italic")),this.props.fontSize&&(l.fontSize=this.props.fontSize+"px");var c=s.map(function(t){switch(t.type){case 1:return o.createElement("a",{href:"mailto:"+t.text},t.text);case 2:return o.createElement("a",{href:t.href,target:"_blank",rel:"noreferrer noopener"},t.text);default:return t.text}});return o.createElement("p",{className:p,style:l,ref:function(e){return t.textElement=e},dir:r,"data-test":"textbox"},c)},e})(o.PureComponent);e.TextBox=n,n.defaultProps={rawText:"",transformedText:[],x:0,y:0,width:0,height:0,rotation:0,dir:"ltr"}});
//# sourceMappingURL=text_box.min.js-vfl0LouQN.map